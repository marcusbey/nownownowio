# NowNowNow.io Project Structure

## Overview
This document outlines the complete structure of the NowNowNow.io application, combining Next.js App Router architecture with organization-centric features.

## Root Structure
```
ðŸ“¦ app.nownownow
â”œâ”€â”€ ðŸ“„ CHANGELOG.md          # Project changelog
â”œâ”€â”€ ðŸ“„ LICENSE.TXT          # License information
â”œâ”€â”€ ðŸ“„ README.md            # Project documentation
â”œâ”€â”€ ðŸ“„ components.json      # Shadcn UI configuration
â”œâ”€â”€ ðŸ“„ next.config.js       # Next.js configuration
â”œâ”€â”€ ðŸ“„ package.json         # Project dependencies
â””â”€â”€ ðŸ“‚ app/                 # Next.js App Router directory
â””â”€â”€ ðŸ“‚ content/             # Static content (MDX)
â””â”€â”€ ðŸ“‚ emails/             # Email templates
â””â”€â”€ ðŸ“‚ prisma/             # Database schema and migrations
â””â”€â”€ ðŸ“‚ public/             # Static assets
â””â”€â”€ ðŸ“‚ src/                # Source code
```

## App Directory Structure (Next.js App Router)
```
ðŸ“‚ app/
â”œâ”€â”€ ðŸ“‚ (layout)/           # Public layout group
â”‚   â”œâ”€â”€ ðŸ“‚ legal/         # Legal pages (privacy, terms)
â”‚   â”œâ”€â”€ ðŸ“‚ payment/       # Payment flow pages
â”‚   â””â”€â”€ ðŸ“‚ posts/         # Public post pages
â”œâ”€â”€ ðŸ“‚ (logged-in)/       # Authenticated layout group
â”‚   â””â”€â”€ ðŸ“‚ (account-layout)/  # Account management
â”œâ”€â”€ ðŸ“‚ @modal/            # Parallel routes for modals
â”œâ”€â”€ ðŸ“‚ api/              # API routes
â”‚   â”œâ”€â”€ ðŸ“‚ auth/         # Authentication endpoints
â”‚   â”œâ”€â”€ ðŸ“‚ org/          # Organization endpoints
â”‚   â”œâ”€â”€ ðŸ“‚ posts/        # Post management endpoints
â”‚   â””â”€â”€ ðŸ“‚ webhooks/     # External service webhooks
â””â”€â”€ ðŸ“‚ orgs/             # Organization-specific pages
    â””â”€â”€ ðŸ“‚ [orgSlug]/    # Dynamic organization routes
        â”œâ”€â”€ ðŸ“‚ settings/  # Organization settings
        â”œâ”€â”€ ðŸ“‚ posts/     # Organization posts
        â””â”€â”€ ðŸ“‚ members/   # Member management
```

## Source Directory Structure
```
ðŸ“‚ src/
â”œâ”€â”€ ðŸ“‚ components/        # Reusable UI components
â”‚   â”œâ”€â”€ ðŸ“‚ ui/           # Shadcn UI components
â”‚   â””â”€â”€ ðŸ“‚ utils/        # Component utilities
â”œâ”€â”€ ðŸ“‚ features/         # Feature modules
â”‚   â”œâ”€â”€ ðŸ“‚ auth/         # Authentication
â”‚   â”œâ”€â”€ ðŸ“‚ organizations/# Organization management
â”‚   â”œâ”€â”€ ðŸ“‚ posts/        # Post functionality
â”‚   â””â”€â”€ ðŸ“‚ comments/     # Comment functionality
â”œâ”€â”€ ðŸ“‚ hooks/            # Custom React hooks
â”œâ”€â”€ ðŸ“‚ lib/             # Core utilities
â”‚   â”œâ”€â”€ ðŸ“‚ actions/     # Server actions
â”‚   â”œâ”€â”€ ðŸ“‚ auth/        # Auth configuration
â”‚   â”œâ”€â”€ ðŸ“‚ prisma/      # Database utilities
â”‚   â””â”€â”€ ðŸ“‚ mail/        # Email utilities
â””â”€â”€ ðŸ“‚ types/           # TypeScript definitions
```

## Database Schema Structure
```
ðŸ“‚ prisma/
â”œâ”€â”€ ðŸ“‚ schema/           # Split schema files
â”‚   â”œâ”€â”€ schema.prisma    # Main schema
â”‚   â”œâ”€â”€ organization.prisma  # Organization models
â”‚   â”œâ”€â”€ social.prisma    # Social features models
â”‚   â””â”€â”€ next-auth.prisma # Auth models
â””â”€â”€ ðŸ“‚ migrations/       # Database migrations
```

## Key Features Implementation

### Organization Management
- `/src/features/organizations/`
  - Components for org management
  - Organization context providers
  - Member management logic

### Post System
- `/src/features/posts/`
  - Post creation and management
  - Organization-specific post handling
  - Media upload integration

### Authentication
- `/src/features/auth/`
  - Multi-provider auth support
  - Organization-based access control
  - Session management

### Email System
- `/emails/`
  - Transactional email templates
  - Organization-specific notifications
  - User verification flows

## Best Practices

### Component Organization
- Components are organized by feature and responsibility
- Shared UI components in `/src/components/ui`
- Feature-specific components within feature directories

### State Management
- Server components for data fetching
- React Context for organization state
- Server actions for mutations

### Type Safety
- Strict TypeScript configuration
- Prisma-generated types
- Zod schemas for validation

### API Routes
- RESTful organization endpoints
- Webhook handlers for external services
- Protected routes with proper auth checks

### Testing
- Component tests alongside components
- API route testing
- E2E tests for critical flows

## Development Workflow
1. Feature development in feature directories
2. Shared components in components directory
3. Database changes through Prisma migrations
4. API endpoints in app/api structure

## Security Considerations
- Authentication in middleware
- Organization-based authorization
- Protected API routes
- Secure webhook handling

This structure supports:
- Organization-centric architecture
- Scalable feature development
- Clear separation of concerns
- Type-safe development
- Efficient state management

{"version":3,"file":"740.nownownow-widget-bundle.js","mappings":"6KAAIA,EAAwC,SAAUC,EAASC,EAAYC,EAAGC,GAE1E,OAAO,IAAKD,IAAMA,EAAIE,WAAU,SAAUC,EAASC,GAC/C,SAASC,EAAUC,GAAS,IAAMC,EAAKN,EAAUO,KAAKF,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC1F,SAASC,EAASJ,GAAS,IAAMC,EAAKN,EAAiB,MAAEK,GAAS,CAAE,MAAOG,GAAKL,EAAOK,EAAI,CAAE,CAC7F,SAASF,EAAKI,GAJlB,IAAeL,EAIaK,EAAOC,KAAOT,EAAQQ,EAAOL,QAJ1CA,EAIyDK,EAAOL,MAJhDA,aAAiBN,EAAIM,EAAQ,IAAIN,GAAE,SAAUG,GAAWA,EAAQG,EAAQ,KAIjBO,KAAKR,EAAWK,EAAW,CAC7GH,GAAMN,EAAYA,EAAUa,MAAMhB,EAASC,GAAc,KAAKS,OAClE,GACJ,EAGA,MAmDA,EAnDyB,EAAGO,SAAQC,QAAOC,MAAOC,EAAcC,KAAMC,MAClE,MAAOH,EAAOI,IAAY,IAAAC,UAASJ,IAC5BC,EAAMI,IAAW,IAAAD,UAASF,IAC1BI,EAAWC,IAAgB,IAAAH,WAAS,IACpCI,EAAOC,IAAY,IAAAL,UAAS,MAgCnC,OA/BA,IAAAM,YAAU,KACkB/B,OAAU,OAAQ,OAAQ,GAAQ,YACtD,IACI,MAAMgC,QAAa,OAAc,YAAYd,KAAU,IAAMlB,OAAU,OAAQ,OAAQ,GAAQ,YAC3F,MAAMiC,QAAiBC,MAAM,+BAA+BhB,IAAU,CAClEiB,QAAS,CACLC,cAAe,UAAUjB,OAGjC,IAAKc,EAASI,GACV,MAAM,IAAIC,MAAM,uBAAuBL,EAASM,UAEpD,OAAON,EAASO,MACpB,MACA,IAAIR,EAAKS,QAKL,MAAM,IAAIH,MAAMN,EAAKH,OAAS,wBAJ9BL,EAASQ,EAAKA,KAAKU,aACnBhB,EAAQM,EAAKA,KAAKV,KAK1B,CACA,MAAOqB,GACHb,EAASa,aAAeL,MAAQK,EAAIC,QAAU,+BAClD,CACA,QACIhB,GAAa,EACjB,CACJ,GACW,GACZ,CAACV,EAAQC,IACRQ,EACO,kBAAoB,MAAO,KAAM,cACxCE,EACO,kBAAoB,MAAO,KAC9B,UACAA,GACA,kBAAoB,MAAO,CAAEgB,UAAW,qBAC5CvB,GAAS,kBAAoB,MAAO,CAAEuB,UAAW,aAC7C,kBAAoB,MAAO,CAAEC,IAAKxB,EAAKyB,UAAWC,IAAK1B,EAAK2B,YAAaJ,UAAW,WACpF,kBAAoB,KAAM,KAAMvB,EAAK2B,cACzC,kBAAoB,KAAM,KAAM,gBACf,IAAjB7B,EAAM8B,OAAgB,kBAAoB,IAAK,KAAM,uBAA2B,kBAAoB,KAAM,KAAM9B,EAAM+B,KAAKC,GAAU,kBAAoB,KAAM,CAAEC,IAAKD,EAAKE,IACvK,kBAAoB,IAAK,KAAMF,EAAKG,SACpC,kBAAoB,QAAS,KAAM,IAAIC,KAAKJ,EAAKK,WAAWC,sBAAwB,C","sources":["webpack://NowNowNowWidget/./now-widget/SidePanelContent.tsx"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { getCachedData } from \"@/lib/cache\";\nimport React, { useEffect, useState } from \"react\";\nconst SidePanelContent = ({ userId, token, posts: initialPosts, user: initialUser, }) => {\n    const [posts, setPosts] = useState(initialPosts);\n    const [user, setUser] = useState(initialUser);\n    const [isLoading, setIsLoading] = useState(true);\n    const [error, setError] = useState(null);\n    useEffect(() => {\n        const fetchData = () => __awaiter(void 0, void 0, void 0, function* () {\n            try {\n                const data = yield getCachedData(`userData_${userId}`, () => __awaiter(void 0, void 0, void 0, function* () {\n                    const response = yield fetch(`/api/widget/userData?userId=${userId}`, {\n                        headers: {\n                            Authorization: `Bearer ${token}`,\n                        },\n                    });\n                    if (!response.ok) {\n                        throw new Error(`HTTP error! status: ${response.status}`);\n                    }\n                    return response.json();\n                }));\n                if (data.success) {\n                    setPosts(data.data.recentPosts);\n                    setUser(data.data.user);\n                }\n                else {\n                    throw new Error(data.error || \"Failed to fetch data\");\n                }\n            }\n            catch (err) {\n                setError(err instanceof Error ? err.message : \"An unexpected error occurred\");\n            }\n            finally {\n                setIsLoading(false);\n            }\n        });\n        fetchData();\n    }, [userId, token]);\n    if (isLoading)\n        return React.createElement(\"div\", null, \"Loading...\");\n    if (error)\n        return React.createElement(\"div\", null,\n            \"Error: \",\n            error);\n    return (React.createElement(\"div\", { className: \"sidepanel-content\" },\n        user && (React.createElement(\"div\", { className: \"user-info\" },\n            React.createElement(\"img\", { src: user.avatarUrl, alt: user.displayName, className: \"avatar\" }),\n            React.createElement(\"h2\", null, user.displayName))),\n        React.createElement(\"h3\", null, \"Recent Posts\"),\n        posts.length === 0 ? (React.createElement(\"p\", null, \"No posts available.\")) : (React.createElement(\"ul\", null, posts.map((post) => (React.createElement(\"li\", { key: post.id },\n            React.createElement(\"p\", null, post.content),\n            React.createElement(\"small\", null, new Date(post.createdAt).toLocaleString()))))))));\n};\nexport default SidePanelContent;\n"],"names":["__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","userId","token","posts","initialPosts","user","initialUser","setPosts","useState","setUser","isLoading","setIsLoading","error","setError","useEffect","data","response","fetch","headers","Authorization","ok","Error","status","json","success","recentPosts","err","message","className","src","avatarUrl","alt","displayName","length","map","post","key","id","content","Date","createdAt","toLocaleString"],"sourceRoot":""}